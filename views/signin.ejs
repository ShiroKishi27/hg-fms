<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HydroGuard - Login or Register</title>
    <link rel="shortcut icon" href="img/HydroGuard_logo.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="wrapper">
        <span class="bg-animate"></span>
        <span class="bg-animate1"></span>

        <div class="form-box login">
            <h2 class="animation" style="--i:0; --j:0">Login</h2>
            <form action="/login">
                <div class="input-box animation" style="--i:1; --j:1">
                    <input type="email" required>
                    <label>Email</label>
                    <span class="icon">
                        <ion-icon name="mail"></ion-icon>
                    </span>
                </div>
                <div class="input-box animation" style="--i:2; --j:2">
                    <input type="password" required>
                    <label>Password</label>
                    <span class="icon">
                        <ion-icon name="lock-closed"></ion-icon>
                    </span>
                </div>
                <div class="remember-forgot animation" style="--i:3; --j:3">
                    <label> 
                        <input type="checkbox">Remember me
                    </label>
                    <a href="#">Forgot my Password</a>
                </div>
                <button type="submit" class="btn animation" style="--i:4; --j:4">Login</button>
                <div class="login-register animation" style="--i:5; --j:5">
                    <p>Don't have an account?
                        <a href="#" class="register-link">Register</a>
                    </p>
                </div>
            </form>
        </div>

        <div class="info-text login">
            <h2 class="animation" style="--i:0; --j:3">HydroGuard</h2><h3 class="animation" style="--i:1; --j:4">Flood Management Suite</h3>
            <h4 class="animation" style="--i:2; --j:5">Welcome Back!</h4>
            <p class="animation" style="--i:3; --j:6">Enter username and password to log-in.</p>
        </div>

        <div class="form-box register">
            <h2 class="animation" style="--i:11; --j:0">Sign Up</h2>
            <form action="/register">
                <div class="input-box animation" style="--i:12; --j:1">
                    <input type="text" required>
                    <label>Username</label>
                    <span class="icon">
                        <ion-icon name="person"></ion-icon>
                    </span>
                </div>
                <div class="input-box animation" style="--i:13; --j:2">
                    <span class="icon">
                        <ion-icon name="mail"></ion-icon>
                    </span>
                    <input type="email" required>
                    <label>Email</label>
                    <span class="icon">
                        <ion-icon name="mail"></ion-icon>
                    </span>
                </div>
                <div class="input-box animation" style="--i:14; --j:3">
                    <input type="password" required>
                    <label>Password</label>
                    <span class="icon">
                        <ion-icon name="lock-closed"></ion-icon>
                    </span>
                </div>
                <div class="remember-forgot animation" style="--i:15; --j:4">
                    <label> 
                        <input type="checkbox" class="animation" style="--i:16; --j:5">I agree to the <a href="#">Terms and Conditions</a></input>
                    </label>
                </div>
                <button type="submit" class="btn animation" style="--i:17;--j:6">Register</button>
                <div class="login-register animation" style="--i:18;--j:7">
                    <p>Already have an account.
                        <a href="/login" class="login-link animation" style="--i:19;--j:8">Login</a>
                    </p>
                </div>
            </form>
        </div>

        <div class="info-text register">
            <h2 class="animation" style="--i:1;--j:0">HydroGuard</h2><h3 class="animation" style="--i:2;--j:1">Flood Management Suite</h3>
            <h4 class="animation" style="--i:3;--j:2">Welcome!</h4>
            <p class="animation" style="--i:4;--j:3">Fill-in the needed info to sign-up.</p>
        </div>

    </div>

    <script type="text/javascript">
        const wrapper = document.querySelector('.wrapper');
        const registerLink = document.querySelector('.register-link');
        const loginLink = document.querySelector('.login-link');

        function showForm(path) {
            if (path === "/register") {
            wrapper.classList.add("active");
            } else {
            wrapper.classList.remove("active");
            }
        }

        // Handle initial load
        showForm(window.location.pathname);

        // Handle link clicks
        if (registerLink) {
            registerLink.addEventListener("click", (e) => {
            e.preventDefault();
            history.pushState({}, "", "/register");
            showForm("/register");
            });
        }

        if (loginLink) {
            loginLink.addEventListener("click", (e) => {
            e.preventDefault();
            history.pushState({}, "", "/login");
            showForm("/login");
            });
        }

        // Handle back/forward navigation
        window.addEventListener("popstate", () => {
            showForm(window.location.pathname);
        });
        

    </script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>